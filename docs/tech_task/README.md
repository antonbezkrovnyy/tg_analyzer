# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è (–¢–ó) - –°—Ç–∞—Ç—É—Å –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

## üéØ –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¢–ó

### 1. TZ-telegram-fetcher.md (python-tg)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –§–µ—Ç—á–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Telegram (Telethon API)
**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- FetcherService - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å—É–ø–µ—Ä—á–∞—Ç–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤)

### 2. TZ-fix-message-fetching.md (python-tg)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —á–∞—Ç–∞
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤ (–Ω–µ –¥–ª—è —Å—É–ø–µ—Ä—á–∞—Ç–æ–≤)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `entity.megagroup` –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è supergroup/channel
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Pydantic —Å—Ö–µ–º—ã –¥–ª—è "supergroup"

### 3. TZ-analyzer-architecture.md (tg_analyzer)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ —Å GigaChat
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
- ‚úÖ MessageRepository - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ GigaChatClient - OAuth + API
- ‚úÖ –ú–æ–¥–µ–ª–∏ (Message, Discussion, AnalysisResult)
- ‚úÖ Prompt template system
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç end-to-end

**–û—Å—Ç–∞–ª–æ—Å—å**:
- ‚è≥ AnalysisRepository
- ‚è≥ PromptBuilder service
- ‚è≥ AnalyzerService
- ‚è≥ CLI interface
- ‚è≥ Batch processing

---

## üöÄ –í —Ä–∞–±–æ—Ç–µ

### TZ-base-infrastructure.md
**–°—Ç–∞—Ç—É—Å**: üîÑ –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: **–í–´–°–û–ö–ò–ô**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è production-ready –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
1. AnalysisRepository - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `output/{chat}/{date}.json`
2. PromptBuilder - —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
3. AnalyzerService - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ pipeline
4. LinkValidator - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü–ª–∞–Ω**:
- [ ] –®–∞–≥ 1: AnalysisRepository
- [ ] –®–∞–≥ 2: PromptBuilder
- [ ] –®–∞–≥ 3: AnalyzerService
- [ ] –®–∞–≥ 4: LinkValidator (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –®–∞–≥ 5: CLI

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å–µ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ –≥–æ—Ç–æ–≤—ã ‚úÖ

---

## ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¢–ó

### TZ-data-quality-improvements.md
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –í –æ–∂–∏–¥–∞–Ω–∏–∏ (–ü–û–°–õ–ï –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**–û–ø–∏—Å–∞–Ω–∏–µ**: –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–∏—Å–∫—É—Å—Å–∏–π

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–¥–µ–∏**:
1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–∫–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞**
   - –¢–µ–∫—É—â–µ–µ: 30 —Å–æ–æ–±—â–µ–Ω–∏–π ‚Üí 1 –¥–∏—Å–∫—É—Å—Å–∏—è
   - –¶–µ–ª—å: 100-200 —Å–æ–æ–±—â–µ–Ω–∏–π ‚Üí 3-5 –¥–∏—Å–∫—É—Å—Å–∏–π
   - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞**
   - –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º (‚≠ê‚≠ê‚≠ê‚≠ê): —Ç–æ–ª—å–∫–æ –≥–ª—É–±–æ–∫–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∏—Å–∫—É—Å—Å–∏–∏
   - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∂–∏–º (‚≠ê‚≠ê‚≠ê): —Å—Ä–µ–¥–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∏—Å–∫—É—Å—Å–∏–∏
   - –ú—è–≥–∫–∏–π —Ä–µ–∂–∏–º (‚≠ê‚≠ê): –≤—Å–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π

3. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–∏—Å–∫—É—Å—Å–∏–π**
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)
   - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è (‚≠ê‚≠ê‚≠ê‚≠ê)
   - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è (‚≠ê‚≠ê‚≠ê)
   - –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (‚≠ê‚≠ê)
   - –û–±—â–∞—è (‚≠ê)

4. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø–æ–¥ –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –¥–∏—Å–∫—É—Å—Å–∏–π –≤ —á–∞—Ç–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ 3-5 –¥–∏—Å–∫—É—Å—Å–∏–π

5. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è message_id
   - –ü–æ–ª–Ω–æ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–∏—Å–∫—É—Å—Å–∏–∏ —Å—Å—ã–ª–∫–∞–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (2025-11-05, –ø–µ—Ä–≤—ã–µ 50 —Å–æ–æ–±—â–µ–Ω–∏–π):
- ‚≠ê‚≠ê‚≠ê‚≠ê **Gettext –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –Ω–∞–π–¥–µ–Ω–∞ GigaChat ‚úÖ
- ‚≠ê‚≠ê **–ê–¥–º–∏–Ω–∫–∞ –¥–ª—è –±–æ—Ç–∞** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–∞ ‚úÖ
- ‚≠ê **–ö–Ω–∏–≥–∏ –∏ –∫—É—Ä—Å—ã** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–∞ ‚úÖ

**–í—ã–≤–æ–¥**: GigaChat —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! –ò–∑ 30 —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞—Ö–æ–¥–∏—Ç 1 –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω–Ω—É—é –¥–∏—Å–∫—É—Å—Å–∏—é.

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç**: TZ-base-infrastructure.md

### TZ-CLI-interface.md (python-tg)
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
**–û–ø–∏—Å–∞–Ω–∏–µ**: CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è python-tg —Ñ–µ—Ç—á–µ—Ä–∞
**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç**: –ë–∞–∑–æ–≤—ã–π —Ñ–µ—Ç—á–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚úÖ

---

## üìã –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–æ–≤

### python-tg (Telegram Fetcher)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ production
**–í–µ—Ä—Å–∏—è**: 1.0
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Telegram
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å—É–ø–µ—Ä—á–∞—Ç–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
- Docker deployment

**–û—Å—Ç–∞–ª–æ—Å—å**:
- CLI interface (TZ-CLI-interface.md)

### tg_analyzer (GigaChat Analyzer)
**–°—Ç–∞—Ç—É—Å**: üîÑ –í –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
**–í–µ—Ä—Å–∏—è**: 0.3 (MVP)
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ python-tg
- ‚úÖ GigaChat OAuth + API
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –¥–∏—Å–∫—É—Å—Å–∏–π
- ‚úÖ Prompt template system
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ message_links
- ‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤ —Ä–∞–±–æ—Ç–µ)
- ‚è≥ Production-ready —Å–µ—Ä–≤–∏—Å—ã (–≤ —Ä–∞–±–æ—Ç–µ)
- ‚è≥ CLI interface (–≤ —Ä–∞–±–æ—Ç–µ)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. TZ-base-infrastructure.md (HIGH)
2. TZ-data-quality-improvements.md (MEDIUM)

---

## üéØ Roadmap

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–í –†–ê–ë–û–¢–ï)
- [x] GigaChat –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] Prompt —Å–∏—Å—Ç–µ–º–∞
- [x] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ message_links
- [ ] **AnalysisRepository**
- [ ] **PromptBuilder service**
- [ ] **AnalyzerService**
- [ ] **CLI interface**

### –≠—Ç–∞–ø 2: –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ (–°–õ–ï–î–£–Æ–©–ò–ô)
- [ ] –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–∏—Å–∫—É—Å—Å–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ –∞–Ω–∞–ª–∏–∑–∞
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –≠—Ç–∞–ø 3: Production (–ë–£–î–£–©–ï–ï)
- [ ] Batch processing
- [ ] Error handling & retry logic
- [ ] Observability integration
- [ ] Unit & integration tests
- [ ] Documentation
- [ ] Deployment automation

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### python-tg
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: **90%**
- –û—Å—Ç–∞–ª–æ—Å—å: CLI interface

### tg_analyzer
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: **60%**
- –í —Ä–∞–±–æ—Ç–µ: **20%** (–±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –û—Å—Ç–∞–ª–æ—Å—å: **20%** (—É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞)

### –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: **‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç**
- Production-ready: **üîÑ 70%**
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: **‚è≥ 0%**

---

## üîó –°—Å—ã–ª–∫–∏ –Ω–∞ –¢–ó

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ:
- [TZ-telegram-fetcher.md](../python-tg/docs/tech_task/TZ-telegram-fetcher.md)
- [TZ-fix-message-fetching.md](../python-tg/docs/tech_task/TZ-fix-message-fetching.md)
- [TZ-analyzer-architecture.md](./TZ-analyzer-architecture.md) (—á–∞—Å—Ç–∏—á–Ω–æ)

### –í —Ä–∞–±–æ—Ç–µ:
- [TZ-base-infrastructure.md](./TZ-base-infrastructure.md) ‚≠ê **CURRENT**

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:
- [TZ-data-quality-improvements.md](./TZ-data-quality-improvements.md)
- [TZ-CLI-interface.md](../python-tg/docs/tech_task/TZ-CLI-interface.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-07
**–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞**: TZ-base-infrastructure.md
